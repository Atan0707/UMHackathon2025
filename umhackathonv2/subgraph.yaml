specVersion: 1.2.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: ZakatSystem
    network: scroll-sepolia
    source:
      address: "0x787a1f923584a9EA096C503B2AF83aCA88fA2086"
      abi: ZakatSystem
      startBlock: 9279925
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Approval
        - ItemAdded
        - ItemPurchased
        - ItemRemoved
        - OwnershipTransferred
        - RecipientAdded
        - ShopOwnerAdded
        - TokenClaimed
        - TokenSpent
        - Transfer
        - ZakatDistributed
      abis:
        - name: ZakatSystem
          file: ./abis/ZakatSystem.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: ItemAdded(string,string)
          handler: handleItemAdded
        - event: ItemPurchased(string,string)
          handler: handleItemPurchased
        - event: ItemRemoved(string)
          handler: handleItemRemoved
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: RecipientAdded(string,string)
          handler: handleRecipientAdded
        - event: ShopOwnerAdded(string,string)
          handler: handleShopOwnerAdded
        - event: TokenClaimed(string,uint256)
          handler: handleTokenClaimed
        - event: TokenSpent(string,string,uint256)
          handler: handleTokenSpent
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: ZakatDistributed(uint256,uint256)
          handler: handleZakatDistributed
      file: ./src/zakat-system.ts
